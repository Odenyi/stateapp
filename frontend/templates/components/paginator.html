<div class="at-pagination">
    <ul class="pagination justify-content-center">
        {% if properties.has_previous %}
            <li class="page-item"><a class="page-link" href="?page=1"><i class="fa fa-angle-double-left"></i></a></li>
            <li class="page-item"><a class="page-link" href="?page={{ properties.previous_page_number }}"><i class="fa fa-angle-left"></i></a></li>
        {% endif %}

        {% if properties.paginator.num_pages > 1 %}
            {% if properties.number > 3 %}
                <li class="page-item disabled"><span class="page-link">...</span></li>
            {% endif %}
            
            {% for page_num in properties.paginator.page_range %}
                {% if page_num >= properties.number|add:"-2" and page_num <= properties.number|add:"2" %}
                    <li class="page-item{% if page_num == properties.number %} active{% endif %}">
                        <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
                    </li>
                {% endif %}
            {% endfor %}

            {% if properties.number < properties.paginator.num_pages|add:"-2" %}
                <li class="page-item disabled"><span class="page-link">...</span></li>
            {% endif %}
        {% endif %}
        
        {% if properties.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ properties.next_page_number }}"><i class="fa fa-angle-right"></i></a></li>
            <li class="page-item"><a class="page-link" href="?page={{ properties.paginator.num_pages }}"><i class="fa fa-angle-double-right"></i></a></li>
        {% endif %}

    </ul>
    
</div>